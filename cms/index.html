<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Studio | joe</title>
  <link rel="icon" type="image/png" href="/images/logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Newsreader:opsz,wght@6..72,400;6..72,500;6..72,600&display=swap" rel="stylesheet">
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <style>
    :root {
      --joe-black: #171717;
      --joe-white: #ffffff;
      --joe-cream: #fafaf9;
      --joe-gray-50: #f9fafb;
      --joe-gray-100: #f3f4f6;
      --joe-gray-200: #e5e7eb;
      --joe-gray-300: #d1d5db;
      --joe-gray-400: #9ca3af;
      --joe-gray-500: #6b7280;
      --joe-gray-600: #4b5563;
      --joe-gray-700: #374151;
      --joe-gray-800: #1f2937;
      --joe-red: #dc2626;
    }
    
    *, *::before, *::after { 
      font-family: 'Inter', -apple-system, sans-serif !important; 
      box-sizing: border-box !important; 
    }
    
    html, body { 
      margin: 0 !important; 
      padding: 0 !important; 
      height: 100% !important; 
      width: 100% !important;
      overflow: hidden !important; 
      background: var(--joe-cream) !important; 
    }
    
    /* Loading Screen */
    #loading-screen { 
      position: fixed; 
      inset: 0; 
      background: var(--joe-white); 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      justify-content: center; 
      z-index: 99999; 
      transition: opacity 0.3s; 
    }
    #loading-screen.hidden { opacity: 0; pointer-events: none; }
    #loading-screen img { height: 40px; margin-bottom: 24px; }
    .loader { 
      width: 32px; 
      height: 32px; 
      border: 3px solid var(--joe-gray-200); 
      border-top-color: var(--joe-black); 
      border-radius: 50%; 
      animation: spin 0.8s linear infinite; 
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    #loading-screen p { margin-top: 16px; color: var(--joe-gray-500); font-size: 14px; }

    /* =============================================
       CRITICAL: Force Decap CMS to fill viewport
       ============================================= */
    
    #nc-root,
    #nc-root > div,
    [class*="App__AppMainContainer"],
    [class*="notif-container"] ~ div {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      width: 100% !important;
      height: 100% !important;
      display: flex !important;
      flex-direction: column !important;
    }
    
    /* Header - black bar */
    [class*="AppHeader"] {
      background: var(--joe-black) !important;
      height: 56px !important;
      min-height: 56px !important;
      max-height: 56px !important;
      flex-shrink: 0 !important;
      display: flex !important;
      align-items: center !important;
      padding: 0 16px !important;
      width: 100% !important;
      border-bottom: none !important;
    }
    
    [class*="AppHeader"] * { color: var(--joe-white) !important; }
    [class*="AppHeader"] a { text-decoration: none !important; }
    [class*="AppHeader"] img { filter: invert(1) !important; height: 24px !important; }
    
    [class*="AppHeader"] button,
    [class*="AppHeader"] [class*="ToolbarButton"] {
      background: var(--joe-gray-800) !important;
      color: var(--joe-white) !important;
      border: 1px solid var(--joe-gray-700) !important;
      border-radius: 6px !important;
      padding: 8px 14px !important;
      font-size: 13px !important;
      font-weight: 500 !important;
      height: 36px !important;
      cursor: pointer !important;
    }
    
    [class*="AppHeader"] button:hover { background: var(--joe-gray-700) !important; }

    /* Main container below header */
    [class*="AppMainContainer"],
    [class*="App__AppMainContainer"] {
      flex: 1 !important;
      display: flex !important;
      flex-direction: row !important;
      overflow: hidden !important;
      width: 100% !important;
      height: calc(100% - 56px) !important;
      background: var(--joe-cream) !important;
    }
    
    /* Sidebar */
    [class*="Sidebar"],
    [class*="Collection__Sidebar"] {
      width: 240px !important;
      min-width: 240px !important;
      max-width: 240px !important;
      background: var(--joe-white) !important;
      border-right: 1px solid var(--joe-gray-200) !important;
      overflow-y: auto !important;
      overflow-x: hidden !important;
      flex-shrink: 0 !important;
      height: 100% !important;
    }
    
    [class*="Sidebar"] input[type="text"] {
      width: calc(100% - 24px) !important;
      margin: 12px !important;
      padding: 10px 12px !important;
      border: 1px solid var(--joe-gray-200) !important;
      border-radius: 6px !important;
      font-size: 14px !important;
      background: var(--joe-gray-50) !important;
    }
    
    [class*="Sidebar"] input:focus {
      border-color: var(--joe-black) !important;
      outline: none !important;
      box-shadow: 0 0 0 2px rgba(0,0,0,0.1) !important;
    }
    
    [class*="SidebarHeading"] {
      font-size: 11px !important;
      font-weight: 600 !important;
      text-transform: uppercase !important;
      letter-spacing: 0.5px !important;
      color: var(--joe-gray-400) !important;
      padding: 16px 16px 8px !important;
      margin: 0 !important;
    }
    
    [class*="SidebarLink"],
    [class*="Sidebar"] a {
      display: flex !important;
      align-items: center !important;
      gap: 10px !important;
      padding: 10px 14px !important;
      margin: 2px 8px !important;
      border-radius: 6px !important;
      font-size: 14px !important;
      font-weight: 500 !important;
      color: var(--joe-gray-600) !important;
      text-decoration: none !important;
      cursor: pointer !important;
      transition: background 0.15s, color 0.15s !important;
    }
    
    [class*="SidebarLink"]:hover,
    [class*="Sidebar"] a:hover {
      background: var(--joe-gray-100) !important;
      color: var(--joe-gray-900) !important;
    }
    
    [class*="SidebarLink"][class*="isActive"],
    [class*="Sidebar"] a[class*="isActive"] {
      background: var(--joe-black) !important;
      color: var(--joe-white) !important;
    }
    
    [class*="Sidebar"] svg {
      width: 18px !important;
      height: 18px !important;
      flex-shrink: 0 !important;
    }

    /* Main Content Area */
    [class*="CollectionView"],
    [class*="EntryListing"],
    main {
      flex: 1 !important;
      background: var(--joe-cream) !important;
      overflow-y: auto !important;
      overflow-x: hidden !important;
      padding: 24px !important;
      min-width: 0 !important;
      height: 100% !important;
    }
    
    /* Collection Top Bar */
    [class*="CollectionTop"] {
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      flex-wrap: wrap !important;
      gap: 16px !important;
      margin-bottom: 20px !important;
    }
    
    [class*="CollectionTop"] h2 {
      font-size: 24px !important;
      font-weight: 700 !important;
      color: var(--joe-gray-900) !important;
      margin: 0 !important;
    }
    
    /* New Entry Button */
    [class*="CollectionTop"] a[href*="new"],
    [class*="ObjectWidgetTopBar"] [class*="button"] {
      background: var(--joe-black) !important;
      color: var(--joe-white) !important;
      border: none !important;
      border-radius: 6px !important;
      padding: 10px 16px !important;
      font-weight: 600 !important;
      font-size: 14px !important;
      text-decoration: none !important;
      display: inline-flex !important;
      align-items: center !important;
      gap: 6px !important;
      cursor: pointer !important;
      transition: background 0.15s !important;
    }
    
    [class*="CollectionTop"] a[href*="new"]:hover {
      background: var(--joe-gray-800) !important;
    }

    /* Entry Cards */
    [class*="ListCard"],
    [class*="EntriesCollection"] > div > div {
      background: var(--joe-white) !important;
      border: 1px solid var(--joe-gray-200) !important;
      border-radius: 10px !important;
      padding: 14px 18px !important;
      margin-bottom: 8px !important;
      cursor: pointer !important;
      transition: border-color 0.15s, box-shadow 0.15s !important;
    }
    
    [class*="ListCard"]:hover {
      border-color: var(--joe-gray-300) !important;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06) !important;
    }
    
    [class*="ListCard"] a,
    [class*="ListCard"] h2 {
      text-decoration: none !important;
      font-size: 15px !important;
      font-weight: 600 !important;
      color: var(--joe-gray-900) !important;
      margin: 0 0 4px 0 !important;
    }
    
    [class*="ListCardMeta"],
    [class*="ListCard"] span,
    [class*="ListCard"] time {
      font-size: 13px !important;
      color: var(--joe-gray-500) !important;
    }

    /* =============================================
       EDITOR VIEW
       ============================================= */
    
    [class*="EditorInterface"],
    [class*="Editor__Editor"] {
      flex: 1 !important;
      display: flex !important;
      flex-direction: column !important;
      height: 100% !important;
      overflow: hidden !important;
      background: var(--joe-white) !important;
    }
    
    [class*="EditorToolbar"],
    [class*="EditorControl"] {
      background: var(--joe-white) !important;
      border-bottom: 1px solid var(--joe-gray-200) !important;
      padding: 12px 20px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      gap: 12px !important;
      flex-shrink: 0 !important;
      flex-wrap: wrap !important;
    }
    
    [class*="EditorContent"],
    [class*="ControlPaneContainer"] {
      flex: 1 !important;
      display: flex !important;
      overflow: hidden !important;
    }
    
    [class*="ControlPane"],
    [class*="EditorControlPane"] {
      flex: 1 !important;
      overflow-y: auto !important;
      padding: 24px !important;
      background: var(--joe-white) !important;
    }
    
    [class*="PreviewPane"] {
      flex: 1 !important;
      overflow-y: auto !important;
      background: var(--joe-cream) !important;
      border-left: 1px solid var(--joe-gray-200) !important;
    }

    /* Form Fields */
    [class*="WidgetControl"],
    [class*="Field"] {
      margin-bottom: 20px !important;
    }
    
    label {
      font-size: 13px !important;
      font-weight: 600 !important;
      color: var(--joe-gray-700) !important;
      margin-bottom: 6px !important;
      display: block !important;
    }
    
    [class*="FieldLabel__hint"],
    small {
      font-size: 12px !important;
      color: var(--joe-gray-500) !important;
      margin-top: 4px !important;
    }
    
    input[type="text"],
    input[type="url"],
    input[type="email"],
    input[type="number"],
    input[type="date"],
    input[type="datetime-local"],
    textarea,
    select {
      width: 100% !important;
      border: 1px solid var(--joe-gray-300) !important;
      border-radius: 6px !important;
      padding: 10px 12px !important;
      font-size: 14px !important;
      color: var(--joe-gray-900) !important;
      background: var(--joe-white) !important;
      transition: border-color 0.15s, box-shadow 0.15s !important;
    }
    
    input:focus, textarea:focus, select:focus {
      border-color: var(--joe-black) !important;
      box-shadow: 0 0 0 2px rgba(0,0,0,0.08) !important;
      outline: none !important;
    }
    
    textarea { min-height: 120px !important; resize: vertical !important; }
    
    /* Markdown Editor */
    [class*="MarkdownControl"],
    [class*="RawEditor"] {
      border: 1px solid var(--joe-gray-300) !important;
      border-radius: 8px !important;
      overflow: hidden !important;
    }
    
    [class*="Toolbar"] {
      background: var(--joe-gray-50) !important;
      border-bottom: 1px solid var(--joe-gray-200) !important;
      padding: 6px !important;
      display: flex !important;
      flex-wrap: wrap !important;
      gap: 2px !important;
    }
    
    [class*="Toolbar"] button {
      background: transparent !important;
      border: none !important;
      padding: 6px 8px !important;
      border-radius: 4px !important;
      color: var(--joe-gray-600) !important;
      cursor: pointer !important;
    }
    
    [class*="Toolbar"] button:hover {
      background: var(--joe-gray-200) !important;
      color: var(--joe-gray-900) !important;
    }

    /* Primary Buttons */
    [class*="PublishButton"],
    button[class*="primary"],
    button[type="submit"] {
      background: var(--joe-black) !important;
      color: var(--joe-white) !important;
      border: none !important;
      border-radius: 6px !important;
      padding: 10px 18px !important;
      font-weight: 600 !important;
      font-size: 14px !important;
      cursor: pointer !important;
      transition: background 0.15s !important;
    }
    
    [class*="PublishButton"]:hover { background: var(--joe-gray-800) !important; }
    
    /* Delete Button */
    [class*="DeleteButton"],
    button[class*="delete"] {
      background: var(--joe-red) !important;
      color: var(--joe-white) !important;
      border: none !important;
    }

    /* Dropdowns & Menus */
    [class*="Dropdown"],
    [class*="Menu"] {
      background: var(--joe-white) !important;
      border: 1px solid var(--joe-gray-200) !important;
      border-radius: 8px !important;
      box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
      padding: 4px !important;
      z-index: 10000 !important;
    }
    
    [class*="Dropdown"] button,
    [class*="MenuItem"] {
      padding: 10px 14px !important;
      font-size: 14px !important;
      width: 100% !important;
      text-align: left !important;
      border: none !important;
      background: transparent !important;
      color: var(--joe-gray-700) !important;
      border-radius: 6px !important;
      cursor: pointer !important;
    }
    
    [class*="Dropdown"] button:hover,
    [class*="MenuItem"]:hover {
      background: var(--joe-gray-100) !important;
    }

    /* Modals */
    [class*="Modal"] {
      border-radius: 12px !important;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25) !important;
      overflow: hidden !important;
    }

    /* Toggle/Checkbox */
    input[type="checkbox"] {
      width: 18px !important;
      height: 18px !important;
      accent-color: var(--joe-black) !important;
    }
    
    [class*="Toggle"] {
      background: var(--joe-gray-300) !important;
      border-radius: 100px !important;
    }
    
    [class*="Toggle"][class*="active"],
    [class*="Toggle"]:checked {
      background: var(--joe-black) !important;
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--joe-gray-300); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--joe-gray-400); }

    /* Mobile */
    @media (max-width: 768px) {
      [class*="Sidebar"],
      [class*="Collection__Sidebar"] {
        width: 200px !important;
        min-width: 200px !important;
        max-width: 200px !important;
      }
      
      [class*="CollectionView"],
      [class*="EntryListing"],
      main,
      [class*="ControlPane"] {
        padding: 16px !important;
      }
      
      [class*="EditorContent"],
      [class*="ControlPaneContainer"] {
        flex-direction: column !important;
      }
      
      [class*="PreviewPane"] {
        border-left: none !important;
        border-top: 1px solid var(--joe-gray-200) !important;
        max-height: 40vh !important;
      }
    }
    
    @media (max-width: 600px) {
      [class*="Sidebar"],
      [class*="Collection__Sidebar"] {
        width: 60px !important;
        min-width: 60px !important;
        max-width: 60px !important;
      }
      
      [class*="SidebarHeading"],
      [class*="Sidebar"] input,
      [class*="SidebarLink"] span {
        display: none !important;
      }
      
      [class*="SidebarLink"],
      [class*="Sidebar"] a {
        justify-content: center !important;
        padding: 12px !important;
        margin: 2px 4px !important;
      }
      
      [class*="Sidebar"] svg {
        width: 22px !important;
        height: 22px !important;
      }
      
      [class*="CollectionTop"] {
        flex-direction: column !important;
        align-items: flex-start !important;
      }
      
      [class*="CollectionTop"] h2 {
        font-size: 20px !important;
      }
      
      [class*="CollectionTop"] a[href*="new"] {
        width: 100% !important;
        justify-content: center !important;
      }
    }
  </style>
</head>
<body>
  <div id="loading-screen">
    <img src="/images/logo.png" alt="joe" onerror="this.src='https://4591743.fs1.hubspotusercontent-na1.net/hubfs/4591743/Black.png'">
    <div class="loader"></div>
    <p>Loading Content Studio...</p>
  </div>

  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  <script>
    setTimeout(function() {
      var loader = document.getElementById('loading-screen');
      if (loader) loader.classList.add('hidden');
    }, 1500);
    
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on('init', function(user) {
        if (!user) {
          window.netlifyIdentity.on('login', function() {
            document.location.href = '/cms/';
          });
        }
      });
    }
  </script>
</body>
</html>
